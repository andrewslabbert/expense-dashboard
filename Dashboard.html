<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>

    <!-- Include the CSS -->
    <?!= HtmlService.createHtmlOutputFromFile('Stylesheet').getContent(); ?>

</head>
<body>
<!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-brand">Expense Tracker</div> <!-- Updated Name -->
            <nav class="sidebar-nav">
                <ul>
                    <!-- MODIFIED LINKS: Wrap text in <span class="nav-text"> -->
                    <li><a href="#" class="active"><i data-feather="grid"></i><span class="nav-text">Dashboard</span></a></li>
                    <li><a href="#"><i data-feather="pie-chart"></i><span class="nav-text">Reports</span> <span class="coming-soon-badge">Soon</span></a></li>
                    <li><a href="#"><i data-feather="list"></i><span class="nav-text">Transactions</span> <span class="coming-soon-badge">Soon</span></a></li>
                    <li><a href="#"><i data-feather="target"></i><span class="nav-text">Budgets</span> <span class="coming-soon-badge">Soon</span></a></li>
                    <li><a href="#"><i data-feather="settings"></i><span class="nav-text">Settings</span> <span class="coming-soon-badge">Soon</span></a></li>
                </ul>
            </nav>

            <!-- ADD THIS TOGGLE BUTTON -->
            <div class="sidebar-toggle" id="sidebar-toggle-button" title="Toggle Sidebar">
                <i data-feather="chevrons-right"></i> <!-- Initial icon for collapsed state -->
            </div>
            <!-- End Toggle Button -->

        </aside>

    <!-- Main Area -->
    <main class="main-area">
        <div class="main-content-wrapper">
             <!-- Header Controls -->
             <div class="main-content-header-controls">
                 <div class="month-navigator">
                     <button id="prev-month" title="Previous Period" disabled><i data-feather="chevron-left"></i></button>
                     <div class="month-display-container" id="current-month-display-container">
                    <span class="month-display-main" id="current-month-main">Loading...</span>
                    <span class="month-display-sub" id="current-month-sub"></span>
                </div>
                     <button id="next-month" title="Next Period" disabled><i data-feather="chevron-right"></i></button>
                 </div>
                 <div class="total-spend">
                     <div class="total-spend-label">Total Spent This Period</div> <!-- Changed from Month -->
                     <div class="total-spend-amount" id="total-spend-amount">---</div>
                 </div>
             </div>
             <!-- Dashboard Core -->
            <div class="dashboard-core">
                 <div class="graph-container">
                    <div class="container-header" id="graph-header"> <h2 class="container-title" id="graph-title">Spending by Category</h2> <!-- Back button added dynamically --> </div>
                    <div class="chart-wrapper"> <canvas id="expense-chart"></canvas> </div>
                </div>
                <div class="category-list-container">
                    <div class="container-header" id="list-header"> <h2 class="container-title" id="category-list-title">Top Categories</h2> <!-- Back button added dynamically --> </div>
                    <div id="category-content"> <p class="no-expenses-message">Loading data...</p> </div>
                </div>
            </div>
        </div>
    </main>

<?!= HtmlService.createHtmlOutputFromFile('JavaScript').getContent(); ?>

</body>
</html>